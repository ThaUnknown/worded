import{S as F,i as K,s as B,c as We,u as Xe,g as Ye,a as Ze,t as q,b as T,d as ve,w as _e,e as A,f as g,h as S,j as d,k,l as L,m as H,n as C,o as v,r as x,p as I,q as m,v as me,x as le,y as se,z as G,A as X,B as ee,C as ie,D as P,E as z,F as oe,G as D,H as pe,I as R,J as ye,K as xe,L as et,M as W,N as tt,O as qe}from"./vendor.0f10be1a.js";const nt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))e(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}};nt();function lt(s){let t;const n=s[3].default,e=We(n,s,s[2],null);return{c(){e&&e.c()},m(l,o){e&&e.m(l,o),t=!0},p(l,[o]){e&&e.p&&(!t||o&4)&&Xe(e,n,l,l[2],t?Ze(n,l[2],o,null):Ye(l[2]),null)},i(l){t||(q(e,l),t=!0)},o(l){T(e,l),t=!1},d(l){e&&e.d(l)}}}function st(s,t,n){let e,{$$slots:l={},$$scope:o}=t;const i=_e(null);ve("loginHash",i);const u=_e(null);ve("edit",u);const r=_e(JSON.parse(localStorage.getItem("progress"))||{});return A(s,r,c=>n(1,e=c)),ve("relations",r),s.$$set=c=>{"$$scope"in c&&n(2,o=c.$$scope)},s.$$.update=()=>{s.$$.dirty&2&&localStorage.setItem("progress",JSON.stringify(e))},[r,e,o,l]}class it extends F{constructor(t){super(),K(this,t,st,lt,B,{})}}function ot(s){let t,n,e,l,o,i,u,r,c,f,a,b,j;return{c(){t=g("label"),t.textContent="Name",n=S(),e=g("input"),l=S(),o=g("label"),o.textContent="Description",i=S(),u=g("input"),r=S(),c=g("label"),c.textContent="Langs",f=S(),a=g("input"),d(t,"for","Name"),d(t,"class","required pt-10 text-capitalize"),d(e,"type","text"),d(e,"class","form-control"),d(e,"id","Name"),e.required="required",d(o,"for","Description"),d(o,"class","required pt-10 text-capitalize"),d(u,"type","text"),d(u,"class","form-control"),d(u,"id","Description"),u.required="required",d(c,"for","Langs"),d(c,"class","required pt-10 text-capitalize"),d(a,"type","text"),d(a,"class","form-control"),d(a,"id","Langs"),a.required="required"},m(_,p){k(_,t,p),k(_,n,p),k(_,e,p),L(e,s[0].name),k(_,l,p),k(_,o,p),k(_,i,p),k(_,u,p),L(u,s[0].description),k(_,r,p),k(_,c,p),k(_,f,p),k(_,a,p),L(a,s[0].langs),b||(j=[H(e,"input",s[1]),H(u,"input",s[2]),H(a,"input",s[3])],b=!0)},p(_,[p]){p&1&&e.value!==_[0].name&&L(e,_[0].name),p&1&&u.value!==_[0].description&&L(u,_[0].description),p&1&&a.value!==_[0].langs&&L(a,_[0].langs)},i:C,o:C,d(_){_&&v(t),_&&v(n),_&&v(e),_&&v(l),_&&v(o),_&&v(i),_&&v(u),_&&v(r),_&&v(c),_&&v(f),_&&v(a),b=!1,x(j)}}}function rt(s,t,n){let{obj:e=[]}=t;function l(){e.name=this.value,n(0,e)}function o(){e.description=this.value,n(0,e)}function i(){e.langs=this.value,n(0,e)}return s.$$set=u=>{"obj"in u&&n(0,e=u.obj)},[e,l,o,i]}class ut extends F{constructor(t){super(),K(this,t,rt,ot,B,{obj:0})}}function ct(s){let t,n,e,l,o,i,u,r,c;return{c(){t=g("label"),t.textContent="Name",n=S(),e=g("input"),l=S(),o=g("label"),o.textContent="Description",i=S(),u=g("input"),d(t,"for","Name"),d(t,"class","required pt-10 text-capitalize"),d(e,"type","text"),d(e,"class","form-control"),d(e,"id","Name"),e.required="required",d(o,"for","Description"),d(o,"class","required pt-10 text-capitalize"),d(u,"type","text"),d(u,"class","form-control"),d(u,"id","Description"),u.required="required"},m(f,a){k(f,t,a),k(f,n,a),k(f,e,a),L(e,s[0].name),k(f,l,a),k(f,o,a),k(f,i,a),k(f,u,a),L(u,s[0].description),r||(c=[H(e,"input",s[1]),H(u,"input",s[2])],r=!0)},p(f,[a]){a&1&&e.value!==f[0].name&&L(e,f[0].name),a&1&&u.value!==f[0].description&&L(u,f[0].description)},i:C,o:C,d(f){f&&v(t),f&&v(n),f&&v(e),f&&v(l),f&&v(o),f&&v(i),f&&v(u),r=!1,x(c)}}}function at(s,t,n){let{obj:e={}}=t;function l(){e.name=this.value,n(0,e)}function o(){e.description=this.value,n(0,e)}return s.$$set=i=>{"obj"in i&&n(0,e=i.obj)},[e,l,o]}class ft extends F{constructor(t){super(),K(this,t,at,ct,B,{obj:0})}}function Te(s,t,n){const e=s.slice();return e[6]=t[n],e[7]=t,e[8]=n,e}function Oe(s){let t,n=s[8]+1+"",e,l,o,i,u,r,c,f,a,b,j,_,p;function N(){s[2].call(u,s[7],s[8])}function w(){s[3].call(a,s[7],s[8])}function y(){return s[4](s[8])}return{c(){t=g("h1"),e=I(n),l=S(),o=g("label"),o.textContent="Text",i=S(),u=g("input"),r=S(),c=g("label"),c.textContent="Translation",f=S(),a=g("input"),b=S(),j=g("button"),j.textContent="Remove Item",d(o,"for","Text"),d(o,"class","required text-capitalize"),d(u,"type","text"),d(u,"class","form-control"),d(u,"id","Text"),u.required="required",d(c,"for","Trans"),d(c,"class","required pt-10 text-capitalize"),d(a,"type","text"),d(a,"class","form-control"),d(a,"id","Trans"),a.required="required",d(j,"class","btn btn-danger mt-5"),d(j,"type","button")},m(h,$){k(h,t,$),m(t,e),k(h,l,$),k(h,o,$),k(h,i,$),k(h,u,$),L(u,s[6].src),k(h,r,$),k(h,c,$),k(h,f,$),k(h,a,$),L(a,s[6].trans),k(h,b,$),k(h,j,$),_||(p=[H(u,"input",N),H(a,"input",w),H(j,"click",y)],_=!0)},p(h,$){s=h,$&1&&u.value!==s[6].src&&L(u,s[6].src),$&1&&a.value!==s[6].trans&&L(a,s[6].trans)},d(h){h&&v(t),h&&v(l),h&&v(o),h&&v(i),h&&v(u),h&&v(r),h&&v(c),h&&v(f),h&&v(a),h&&v(b),h&&v(j),_=!1,x(p)}}}function dt(s){let t,n,e,l,o,i,u=s[0],r=[];for(let c=0;c<u.length;c+=1)r[c]=Oe(Te(s,u,c));return{c(){for(let c=0;c<r.length;c+=1)r[c].c();t=S(),n=g("br"),e=S(),l=g("button"),l.textContent="Add Item",d(l,"class","btn btn-success mt-5"),d(l,"type","button")},m(c,f){for(let a=0;a<r.length;a+=1)r[a].m(c,f);k(c,t,f),k(c,n,f),k(c,e,f),k(c,l,f),o||(i=H(l,"click",s[5]),o=!0)},p(c,[f]){if(f&3){u=c[0];let a;for(a=0;a<u.length;a+=1){const b=Te(c,u,a);r[a]?r[a].p(b,f):(r[a]=Oe(b),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=u.length}},i:C,o:C,d(c){me(r,c),c&&v(t),c&&v(n),c&&v(e),c&&v(l),o=!1,i()}}}function _t(s,t,n){let{obj:e=[]}=t;function l(c){e.splice(c,1),n(0,e)}function o(c,f){c[f].src=this.value,n(0,e)}function i(c,f){c[f].trans=this.value,n(0,e)}const u=c=>l(c),r=()=>n(0,e[e.length]={},e);return s.$$set=c=>{"obj"in c&&n(0,e=c.obj)},[e,l,o,i,u,r]}class pt extends F{constructor(t){super(),K(this,t,_t,dt,B,{obj:0})}}function mt(s){let t,n,e;function l(i){s[7](i)}let o={};return s[0].object!==void 0&&(o.obj=s[0].object),t=new pt({props:o}),ee.push(()=>ie(t,"obj",l)),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};!n&&u&1&&(n=!0,r.obj=i[0].object,oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){D(t,i)}}}function bt(s){let t,n,e;function l(i){s[6](i)}let o={};return s[0].object!==void 0&&(o.obj=s[0].object),t=new ft({props:o}),ee.push(()=>ie(t,"obj",l)),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};!n&&u&1&&(n=!0,r.obj=i[0].object,oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){D(t,i)}}}function gt(s){let t,n,e;function l(i){s[5](i)}let o={};return s[0].object!==void 0&&(o.obj=s[0].object),t=new ut({props:o}),ee.push(()=>ie(t,"obj",l)),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};!n&&u&1&&(n=!0,r.obj=i[0].object,oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){D(t,i)}}}function ht(s){let t,n,e,l,o,i,u,r,c,f,a,b,j;const _=[gt,bt,mt],p=[];function N(w,y){return w[0].type==="course"?0:w[0].type==="stage"?1:w[0].type==="pages"?2:-1}return~(n=N(s))&&(e=p[n]=_[n](s)),{c(){t=g("div"),e&&e.c(),l=S(),o=g("div"),i=g("button"),i.textContent="Delete",u=S(),r=g("button"),r.textContent="Save",c=S(),f=g("button"),f.textContent="Close",d(i,"class","btn btn-danger"),d(i,"type","button"),d(r,"class","btn btn-success"),d(r,"type","button"),d(f,"class","btn"),d(f,"type","button"),d(o,"class","pt-20"),d(t,"class","py-20")},m(w,y){k(w,t,y),~n&&p[n].m(t,null),m(t,l),m(t,o),m(o,i),m(o,u),m(o,r),m(o,c),m(o,f),a=!0,b||(j=[H(i,"click",s[2]),H(r,"click",s[3]),H(f,"click",s[4])],b=!0)},p(w,[y]){let h=n;n=N(w),n===h?~n&&p[n].p(w,y):(e&&(le(),T(p[h],1,1,()=>{p[h]=null}),se()),~n?(e=p[n],e?e.p(w,y):(e=p[n]=_[n](w),e.c()),q(e,1),e.m(t,l)):e=null)},i(w){a||(q(e),a=!0)},o(w){T(e),a=!1},d(w){w&&v(t),~n&&p[n].d(),b=!1,x(j)}}}function kt(s,t,n){let e;const l=G("edit");A(s,l,a=>n(0,e=a));async function o(){await e.delete(e.object),u()}async function i(){await e.update(e.object),u()}function u(){X(l,e=null,e)}function r(a){s.$$.not_equal(e.object,a)&&(e.object=a,l.set(e))}function c(a){s.$$.not_equal(e.object,a)&&(e.object=a,l.set(e))}function f(a){s.$$.not_equal(e.object,a)&&(e.object=a,l.set(e))}return[e,l,o,i,u,r,c,f]}class vt extends F{constructor(t){super(),K(this,t,kt,ht,B,{})}}function yt(s){let t,n,e,l,o,i,u,r,c,f;return{c(){t=g("div"),n=g("h1"),n.textContent="Login",e=S(),l=g("input"),o=S(),i=g("input"),u=S(),r=g("button"),r.textContent="Sign In",d(n,"class","text-center font-weight-bold my-20 w-400 mw-full"),d(l,"type","text"),d(l,"class","form-control form-control-lg w-400 mw-full"),d(l,"placeholder","Username"),d(i,"type","password"),d(i,"class","form-control form-control-lg w-400 mw-full mt-5"),d(i,"placeholder","Password"),d(r,"class","btn btn-primary btn-lg w-400 text-center mw-full mt-10 border-0"),d(r,"type","button"),d(t,"class","d-flex flex-column align-items-center")},m(a,b){k(a,t,b),m(t,n),m(t,e),m(t,l),L(l,s[0]),m(t,o),m(t,i),L(i,s[1]),m(t,u),m(t,r),c||(f=[H(l,"input",s[5]),H(i,"input",s[6]),H(r,"click",s[3])],c=!0)},p(a,[b]){b&1&&l.value!==a[0]&&L(l,a[0]),b&2&&i.value!==a[1]&&L(i,a[1])},i:C,o:C,d(a){a&&v(t),c=!1,x(f)}}}function wt(s,t,n){let e;const l=async(_,p)=>{const N=o(`${_}${p}`);return crypto.subtle.digest("SHA-512",N)},o=_=>new TextEncoder().encode(_),i=_=>{_=new Uint8Array(_);const p=[];for(let N=0;N<_.length;++N)p.push(_[N].toString(16).padStart(2,"0"));return p.join("")},u=G("loginHash");A(s,u,_=>n(7,e=_));let{loginText:r}=t,c=null,f=null;async function a(){const _=i(await l(c,f));await(await fetch("/api/mutation",{method:"POST",body:JSON.stringify({auth:_})})).text()==="ok"?(X(u,e=_,e),n(4,r=c)):halfmoon.initStickyAlert({content:"Invalid username or password.",title:"Error",alertType:"alert-danger",fillType:"filled"})}function b(){c=this.value,n(0,c)}function j(){f=this.value,n(1,f)}return s.$$set=_=>{"loginText"in _&&n(4,r=_.loginText)},[c,f,u,a,r,b,j]}class jt extends F{constructor(t){super(),K(this,t,wt,yt,B,{loginText:4})}}function He(s,t,n){const e=s.slice();return e[21]=t[n],e}function Ie(s){let t,n,e;return{c(){t=g("button"),t.textContent="Edit Pages",d(t,"class","btn btn-success border-0 text-white"),d(t,"type","button")},m(l,o){k(l,t,o),n||(e=H(t,"click",s[13]),n=!0)},p:C,d(l){l&&v(t),n=!1,e()}}}function $t(s){return{c:C,m:C,p:C,i:C,o:C,d:C}}function St(s){let t,n,e;function l(i){s[14](i)}let o={showIndicators:!0,autoplay:!1,$$slots:{default:[Nt]},$$scope:{ctx:s}};return s[1]!==void 0&&(o.active_item=s[1]),t=new et({props:o}),ee.push(()=>ie(t,"active_item",l)),s[15](t),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};u&16777216&&(r.$$scope={dirty:u,ctx:i}),!n&&u&2&&(n=!0,r.active_item=i[1],oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){s[15](null),D(t,i)}}}function Ct(s){let t,n=s[21].src+"",e,l,o,i,u,r=s[21].trans+"",c,f;return{c(){t=g("h4"),e=I(n),l=S(),o=g("p"),o.textContent="means",i=S(),u=g("h4"),c=I(r),f=S()},m(a,b){k(a,t,b),m(t,e),k(a,l,b),k(a,o,b),k(a,i,b),k(a,u,b),m(u,c),k(a,f,b)},p:C,d(a){a&&v(t),a&&v(l),a&&v(o),a&&v(i),a&&v(u),a&&v(f)}}}function Le(s){let t,n;return t=new tt({props:{$$slots:{default:[Ct]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p(e,l){const o={};l&16777216&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function Nt(s){let t,n,e=s[10],l=[];for(let i=0;i<e.length;i+=1)l[i]=Le(He(s,e,i));const o=i=>T(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=W()},m(i,u){for(let r=0;r<l.length;r+=1)l[r].m(i,u);k(i,t,u),n=!0},p(i,u){if(u&1024){e=i[10];let r;for(r=0;r<e.length;r+=1){const c=He(i,e,r);l[r]?(l[r].p(c,u),q(l[r],1)):(l[r]=Le(c),l[r].c(),q(l[r],1),l[r].m(t.parentNode,t))}for(le(),r=e.length;r<l.length;r+=1)o(r);se()}},i(i){if(!n){for(let u=0;u<e.length;u+=1)q(l[u]);n=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);n=!1},d(i){me(l,i),i&&v(t)}}}function qt(s){let t;return{c(){t=I("Pages")},m(n,e){k(n,t,e)},p:C,i:C,o:C,d(n){n&&v(t)}}}function Tt(s){let t,n,e,l,o=s[4].name+"",i,u,r,c,f,a,b,j,_=s[3]&&Ie(s),p={ctx:s,current:null,token:null,hasCatch:!1,pending:qt,then:St,catch:$t,value:10,blocks:[,,,]};return pe(s[10],p),{c(){t=g("div"),_&&_.c(),n=S(),e=g("div"),l=g("h1"),i=I(o),u=S(),p.block.c(),r=S(),c=g("div"),f=g("button"),f.textContent="Next",d(l,"class","pt-20 mt-20 text-accent-medium text-white-dm font-weight-semi-bold"),d(e,"class","w-full"),d(f,"class","btn btn-primary border-0 shadow-lg text-white "),d(f,"type","button"),d(c,"class","mt-auto d-flex w-full justify-content-end"),d(t,"class","d-flex flex-column m-20")},m(N,w){k(N,t,w),_&&_.m(t,null),m(t,n),m(t,e),m(e,l),m(l,i),m(t,u),p.block.m(t,p.anchor=null),p.mount=()=>t,p.anchor=r,m(t,r),m(t,c),m(c,f),a=!0,b||(j=H(f,"click",s[16]),b=!0)},p(N,[w]){s=N,s[3]?_?_.p(s,w):(_=Ie(s),_.c(),_.m(t,n)):_&&(_.d(1),_=null),(!a||w&16)&&o!==(o=s[4].name+"")&&R(i,o),ye(p,s,w)},i(N){a||(q(p.block),a=!0)},o(N){for(let w=0;w<3;w+=1){const y=p.blocks[w];T(y)}a=!1},d(N){N&&v(t),_&&_.d(),p.block.d(),p.token=null,p=null,b=!1,j()}}}function Ot(s,t,n){let e,l,o=C,i=()=>(o(),o=xe(c,O=>n(4,l=O)),c),u,r;s.$$.on_destroy.push(()=>o());let{stage:c}=t;i();let{course:f}=t,{stages:a}=t,b=0;const j=fetch(`/api/query/courses/${f.id}/stages/${l.id}/pages`).then(async O=>{const V=await O.json();return b=(V==null?void 0:V.length)||0,V||[]});let _,p;const N=G("relations");A(s,N,O=>n(19,r=O)),X(N,r[f.id]={pos:Object.keys(a).indexOf(l.id.toString())+1||0,id:l.id},r);function w(O){O===b-1?X(c,l=null,l):p.nextItem()}const y=G("loginHash");A(s,y,O=>n(3,e=O));const h=G("edit");A(s,h,O=>n(18,u=O));const $=[{src:"",trans:""}];function E(O){X(h,u={type:"pages",object:O||$,delete:async()=>fetch(`/api/mutation/delete/courses/${f.id}/stages/${l.id}/pages`,{method:"POST",body:JSON.stringify({auth:e})}),update:async V=>fetch(`/api/mutation/update/courses/${f.id}/stages/${l.id}/pages`,{method:"POST",body:JSON.stringify({auth:e,data:V})})},u)}const U=async()=>E(await j);function te(O){_=O,n(1,_)}function re(O){ee[O?"unshift":"push"](()=>{p=O,n(2,p)})}const ue=()=>w(_);return s.$$set=O=>{"stage"in O&&i(n(0,c=O.stage)),"course"in O&&n(11,f=O.course),"stages"in O&&n(12,a=O.stages)},[c,_,p,e,l,N,w,y,h,E,j,f,a,U,te,re,ue]}class Ht extends F{constructor(t){super(),K(this,t,Ot,Tt,B,{stage:0,course:11,stages:12})}}function Pe(s,t,n){const e=s.slice();return e[15]=t[n][0],e[8]=t[n][1],e}function It(s){let t,n,e=s[3]&&ze(s),l=Object.entries(s[0]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Je(Pe(s,l,i));return{c(){e&&e.c(),t=S();for(let i=0;i<o.length;i+=1)o[i].c();n=W()},m(i,u){e&&e.m(i,u),k(i,t,u);for(let r=0;r<o.length;r+=1)o[r].m(i,u);k(i,n,u)},p(i,u){if(i[3]?e?e.p(i,u):(e=ze(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null),u&57){l=Object.entries(i[0]);let r;for(r=0;r<l.length;r+=1){const c=Pe(i,l,r);o[r]?o[r].p(c,u):(o[r]=Je(c),o[r].c(),o[r].m(n.parentNode,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},i:C,o:C,d(i){e&&e.d(i),i&&v(t),me(o,i),i&&v(n)}}}function Lt(s){let t=s[2],n,e,l=Ae(s);return{c(){l.c(),n=W()},m(o,i){l.m(o,i),k(o,n,i),e=!0},p(o,i){i&4&&B(t,t=o[2])?(le(),T(l,1,1,C),se(),l=Ae(o),l.c(),q(l),l.m(n.parentNode,n)):l.p(o,i)},i(o){e||(q(l),e=!0)},o(o){T(l),e=!1},d(o){o&&v(n),l.d(o)}}}function ze(s){let t,n,e;return{c(){t=g("button"),t.textContent="Create Stage",d(t,"class","btn btn-block btn-success border-0 mx-20 mt-20 text-white"),d(t,"type","button")},m(l,o){k(l,t,o),n||(e=H(t,"click",s[10]),n=!0)},p:C,d(l){l&&v(t),n=!1,e()}}}function De(s){let t,n,e=s[8].name+"",l,o,i=s[8].description+"",u,r,c,f,a,b,j,_,p=s[3]&&Ee(s);function N(){return s[12](s[8])}return{c(){t=g("div"),n=g("div"),l=I(e),o=S(),u=I(i),r=S(),c=g("div"),p&&p.c(),f=S(),a=g("button"),a.textContent="Start",b=S(),d(n,"class","font-size-20 text-accent-medium text-white-dm font-weight-semi-bold py-5"),d(a,"class","btn btn-primary border-0 text-white"),d(a,"type","button"),d(c,"class","mt-auto d-flex w-full justify-content-end"),d(t,"class","card shadow-lg svelte-1ezzc1b")},m(w,y){k(w,t,y),m(t,n),m(n,l),m(t,o),m(t,u),m(t,r),m(t,c),p&&p.m(c,null),m(c,f),m(c,a),m(t,b),j||(_=H(a,"click",N),j=!0)},p(w,y){s=w,y&1&&e!==(e=s[8].name+"")&&R(l,e),y&1&&i!==(i=s[8].description+"")&&R(u,i),s[3]?p?p.p(s,y):(p=Ee(s),p.c(),p.m(c,f)):p&&(p.d(1),p=null)},d(w){w&&v(t),p&&p.d(),j=!1,_()}}}function Ee(s){let t,n,e;function l(){return s[11](s[8])}return{c(){t=g("button"),t.textContent="Edit Stage",d(t,"class","btn btn-success border-0 mr-10 text-white"),d(t,"type","button")},m(o,i){k(o,t,i),n||(e=H(t,"click",l),n=!0)},p(o,i){s=o},d(o){o&&v(t),n=!1,e()}}}function Je(s){let t,n=s[15]!=="lastID"&&De(s);return{c(){n&&n.c(),t=W()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,l){e[15]!=="lastID"?n?n.p(e,l):(n=De(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Ae(s){let t,n;return t=new Ht({props:{stage:s[8],stages:s[0],course:s[1]}}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.stages=e[0]),l&2&&(o.course=e[1]),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function Pt(s){let t,n,e,l;const o=[Lt,It],i=[];function u(r,c){return r[2]?0:1}return t=u(s),n=i[t]=o[t](s),{c(){n.c(),e=W()},m(r,c){i[t].m(r,c),k(r,e,c),l=!0},p(r,[c]){let f=t;t=u(r),t===f?i[t].p(r,c):(le(),T(i[f],1,1,()=>{i[f]=null}),se(),n=i[t],n?n.p(r,c):(n=i[t]=o[t](r),n.c()),q(n,1),n.m(e.parentNode,e))},i(r){l||(q(n),l=!0)},o(r){T(n),l=!1},d(r){i[t].d(r),r&&v(e)}}}function zt(s,t,n){let e,l,o,{stages:i={}}=t,{course:u={}}=t;const r={id:i.lastID+1||0,name:"",description:""};function c(y){X(j,o={type:"stage",object:y||r,delete:async h=>fetch(`/api/mutation/delete/courses/${u.id}/stages/${h.id}`,{method:"POST",body:JSON.stringify({auth:l})}),update:async h=>fetch(`/api/mutation/update/courses/${u.id}/stages/${h.id}`,{method:"POST",body:JSON.stringify({auth:l,data:h})})},o)}let f=_e(null);A(s,f,y=>n(2,e=y));function a(y){X(f,e=y,e)}const b=G("loginHash");A(s,b,y=>n(3,l=y));const j=G("edit");A(s,j,y=>n(13,o=y));let{continueStage:_=null}=t;_&&a(i[_.id]);const p=()=>c(),N=y=>c(y),w=y=>a(y);return s.$$set=y=>{"stages"in y&&n(0,i=y.stages),"course"in y&&n(1,u=y.course),"continueStage"in y&&n(9,_=y.continueStage)},[i,u,e,l,c,a,b,j,f,_,p,N,w]}class Dt extends F{constructor(t){super(),K(this,t,zt,Pt,B,{stages:0,course:1,continueStage:9})}}function Et(s){let t;return{c(){t=g("div"),d(t,"class","card p-0 skeloader h-200 shadow-lg svelte-rm2xnl")},m(n,e){k(n,t,e)},p:C,i:C,o:C,d(n){n&&v(t)}}}class Re extends F{constructor(t){super(),K(this,t,null,Et,B,{})}}function Jt(s){return{c:C,m:C,p:C,i:C,o:C,d:C}}function At(s){let t,n;return t=new Dt({props:{continueStage:s[1],stages:s[2],course:s[0]}}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p(e,l){const o={};l&2&&(o.continueStage=e[1]),l&1&&(o.course=e[0]),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function Bt(s){let t,n;return t=new Re({}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p:C,i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function Ut(s){let t,n,e={ctx:s,current:null,token:null,hasCatch:!1,pending:Bt,then:At,catch:Jt,value:2,blocks:[,,,]};return pe(s[2],e),{c(){t=W(),e.block.c()},m(l,o){k(l,t,o),e.block.m(l,e.anchor=o),e.mount=()=>t.parentNode,e.anchor=t,n=!0},p(l,[o]){s=l,ye(e,s,o)},i(l){n||(q(e.block),n=!0)},o(l){for(let o=0;o<3;o+=1){const i=e.blocks[o];T(i)}n=!1},d(l){l&&v(t),e.block.d(l),e.token=null,e=null}}}function Ft(s,t,n){let{course:e={}}=t,{stage:l=null}=t;const o=fetch(`/api/query/courses/${e.id}/stages`).then(i=>i.json());return s.$$set=i=>{"course"in i&&n(0,e=i.course),"stage"in i&&n(1,l=i.stage)},[e,l,o]}class Kt extends F{constructor(t){super(),K(this,t,Ft,Ut,B,{course:0,stage:1})}}function Be(s,t,n){var i;const e=s.slice();e[16]=t[n][0],e[0]=t[n][1];const l=e[4][e[16]];e[17]=l;const o=((i=e[17])==null?void 0:i.pos)||0;return e[18]=o,e}function Mt(s){let t,n,e=s[3]&&Ue(s),l=Object.entries(s[1]),o=[];for(let i=0;i<l.length;i+=1)o[i]=Me(Be(s,l,i));return{c(){e&&e.c(),t=S();for(let i=0;i<o.length;i+=1)o[i].c();n=W()},m(i,u){e&&e.m(i,u),k(i,t,u);for(let r=0;r<o.length;r+=1)o[r].m(i,u);k(i,n,u)},p(i,u){if(i[3]?e?e.p(i,u):(e=Ue(i),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null),u&666){l=Object.entries(i[1]);let r;for(r=0;r<l.length;r+=1){const c=Be(i,l,r);o[r]?o[r].p(c,u):(o[r]=Me(c),o[r].c(),o[r].m(n.parentNode,n))}for(;r<o.length;r+=1)o[r].d(1);o.length=l.length}},i:C,o:C,d(i){e&&e.d(i),i&&v(t),me(o,i),i&&v(n)}}}function Gt(s){let t,n;return t=new Kt({props:{stage:s[2],course:s[0]}}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.stage=e[2]),l&1&&(o.course=e[0]),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function Ue(s){let t,n,e;return{c(){t=g("button"),t.textContent="Create Course",d(t,"class","btn btn-block btn-success border-0 mx-20 mt-20 text-white"),d(t,"type","button")},m(l,o){k(l,t,o),n||(e=H(t,"click",s[10]),n=!0)},p:C,d(l){l&&v(t),n=!1,e()}}}function Fe(s){let t,n,e,l,o,i,u=s[0].name+"",r,c,f,a,b,j,_,p,N,w,y,h,$=`${s[18]/s[0].stages*100}%`,E,U,te=s[18]+"",re,ue,O=s[0].stages+"",V,we,je,ce,ae=s[0].description+"",be,$e,Y,ge,ne,fe=s[17]&&s[18]!==s[0].stages?"Continue":"Start",he,Se,ke,Ce;function Ve(){return s[11](s[0])}function Ne(Z,M){return Z[17]?Vt:Rt}let de=Ne(s),Q=de(s),J=s[3]&&Ke(s);function Qe(){return s[13](s[0],s[18],s[17])}return{c(){t=g("div"),n=g("div"),e=g("div"),l=g("div"),l.textContent="Course",o=S(),i=g("div"),r=I(u),c=S(),f=g("a"),f.textContent="View all stages >",a=S(),b=g("div"),j=g("div"),_=g("div"),Q.c(),p=S(),N=g("div"),w=g("div"),y=g("div"),E=S(),U=g("div"),re=I(te),ue=I("/"),V=I(O),we=I(" Stages"),je=S(),ce=g("div"),be=I(ae),$e=S(),Y=g("div"),J&&J.c(),ge=S(),ne=g("button"),he=I(fe),Se=S(),d(l,"class","text-light font-size-14 text-muted"),d(i,"class","font-size-20 text-white font-weight-semi-bold py-5"),d(f,"class","text-light mt-auto pointer text-muted"),d(e,"class","col-md-4 col-12 bg-accent-medium p-30 d-flex flex-column"),d(_,"class","text-muted"),d(y,"class","progress-bar bg-accent-medium"),d(y,"role","progressbar"),d(y,"aria-valuenow",h=s[18]/s[0].stages*100),d(y,"aria-valuemin","0"),d(y,"aria-valuemax","100"),qe(y,"width",$,!1),d(w,"class","progress w-150"),d(U,"class","ml-auto text-muted text-right stages pr-5 svelte-19lrkyr"),d(N,"class","ml-auto"),d(j,"class","d-flex"),d(ce,"class","font-size-20 text-accent-medium text-white-dm font-weight-semi-bold py-5"),d(ne,"class","btn btn-primary border-0 text-white"),d(ne,"type","button"),d(Y,"class","mt-auto d-flex w-full justify-content-end"),d(b,"class","col-md-8 col-12 p-30 d-flex flex-column"),d(n,"class","row h-full"),d(t,"class","card h-md-200 p-0 overflow-hidden shadow-lg svelte-19lrkyr")},m(Z,M){k(Z,t,M),m(t,n),m(n,e),m(e,l),m(e,o),m(e,i),m(i,r),m(e,c),m(e,f),m(n,a),m(n,b),m(b,j),m(j,_),Q.m(_,null),m(j,p),m(j,N),m(N,w),m(w,y),m(N,E),m(N,U),m(U,re),m(U,ue),m(U,V),m(U,we),m(b,je),m(b,ce),m(ce,be),m(b,$e),m(b,Y),J&&J.m(Y,null),m(Y,ge),m(Y,ne),m(ne,he),m(t,Se),ke||(Ce=[H(f,"click",Ve),H(ne,"click",Qe)],ke=!0)},p(Z,M){s=Z,M&2&&u!==(u=s[0].name+"")&&R(r,u),de===(de=Ne(s))&&Q?Q.p(s,M):(Q.d(1),Q=de(s),Q&&(Q.c(),Q.m(_,null))),M&18&&h!==(h=s[18]/s[0].stages*100)&&d(y,"aria-valuenow",h),M&18&&$!==($=`${s[18]/s[0].stages*100}%`)&&qe(y,"width",$,!1),M&18&&te!==(te=s[18]+"")&&R(re,te),M&2&&O!==(O=s[0].stages+"")&&R(V,O),M&2&&ae!==(ae=s[0].description+"")&&R(be,ae),s[3]?J?J.p(s,M):(J=Ke(s),J.c(),J.m(Y,ge)):J&&(J.d(1),J=null),M&18&&fe!==(fe=s[17]&&s[18]!==s[0].stages?"Continue":"Start")&&R(he,fe)},d(Z){Z&&v(t),Q.d(),J&&J.d(),ke=!1,x(Ce)}}}function Rt(s){let t=s[0].stages+"",n,e;return{c(){n=I(t),e=I(" Stages")},m(l,o){k(l,n,o),k(l,e,o)},p(l,o){o&2&&t!==(t=l[0].stages+"")&&R(n,t)},d(l){l&&v(n),l&&v(e)}}}function Vt(s){let t,n=s[18]+"",e;return{c(){t=I("Stage "),e=I(n)},m(l,o){k(l,t,o),k(l,e,o)},p(l,o){o&18&&n!==(n=l[18]+"")&&R(e,n)},d(l){l&&v(t),l&&v(e)}}}function Ke(s){let t,n,e;function l(){return s[12](s[0])}return{c(){t=g("button"),t.textContent="Edit",d(t,"class","btn btn-success border-0 mr-10 text-white"),d(t,"type","button")},m(o,i){k(o,t,i),n||(e=H(t,"click",l),n=!0)},p(o,i){s=o},d(o){o&&v(t),n=!1,e()}}}function Me(s){let t,n=s[16]!=="lastID"&&Fe(s);return{c(){n&&n.c(),t=W()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,l){e[16]!=="lastID"?n?n.p(e,l):(n=Fe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&v(t)}}}function Qt(s){let t,n,e,l;const o=[Gt,Mt],i=[];function u(r,c){return r[0]!=null?0:1}return t=u(s),n=i[t]=o[t](s),{c(){n.c(),e=W()},m(r,c){i[t].m(r,c),k(r,e,c),l=!0},p(r,[c]){let f=t;t=u(r),t===f?i[t].p(r,c):(le(),T(i[f],1,1,()=>{i[f]=null}),se(),n=i[t],n?n.p(r,c):(n=i[t]=o[t](r),n.c()),q(n,1),n.m(e.parentNode,e))},i(r){l||(q(n),l=!0)},o(r){T(n),l=!1},d(r){i[t].d(r),r&&v(e)}}}function Wt(s,t,n){let e,l,o,{courses:i={}}=t;const u=G("edit");A(s,u,h=>n(14,l=h));const r=G("loginHash");A(s,r,h=>n(3,e=h));const c={id:i.lastID+1||0,name:"",description:"",langs:"EN",stages:0};function f(h){X(u,l={type:"course",object:h||c,update:async $=>fetch("/api/mutation/update/courses/"+$.id,{method:"POST",body:JSON.stringify({auth:e,data:$})}),delete:async $=>fetch("/api/mutation/delete/courses/"+$.id,{method:"POST",body:JSON.stringify({auth:e,data:$})})},l)}const a=G("relations");A(s,a,h=>n(4,o=h));let{course:b=null}=t,j=null;function _(h,$){n(0,b=h),n(2,j=$||null)}const p=()=>f(),N=h=>_(h),w=h=>f(h),y=(h,$,E)=>_(h,$!==h.stages&&E);return s.$$set=h=>{"courses"in h&&n(1,i=h.courses),"course"in h&&n(0,b=h.course)},[b,i,j,e,o,u,r,f,a,_,p,N,w,y]}class Xt extends F{constructor(t){super(),K(this,t,Wt,Qt,B,{courses:1,course:0})}}function Yt(s){let t,n,e,l={ctx:s,current:null,token:null,hasCatch:!1,pending:nn,then:tn,catch:en,value:3,blocks:[,,,]};return pe(n=s[3],l),{c(){t=W(),l.block.c()},m(o,i){k(o,t,i),l.block.m(o,l.anchor=i),l.mount=()=>t.parentNode,l.anchor=t,e=!0},p(o,i){s=o,l.ctx=s,i&8&&n!==(n=s[3])&&pe(n,l)||ye(l,s,i)},i(o){e||(q(l.block),e=!0)},o(o){for(let i=0;i<3;i+=1){const u=l.blocks[i];T(u)}e=!1},d(o){o&&v(t),l.block.d(o),l.token=null,l=null}}}function Zt(s){let t,n;return t=new vt({}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p:C,i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function xt(s){let t,n,e;function l(i){s[10](i)}let o={};return s[2]!==void 0&&(o.loginText=s[2]),t=new jt({props:o}),ee.push(()=>ie(t,"loginText",l)),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};!n&&u&4&&(n=!0,r.loginText=i[2],oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){D(t,i)}}}function en(s){return{c:C,m:C,p:C,i:C,o:C,d:C}}function tn(s){let t,n,e;function l(i){s[11](i)}let o={courses:s[3]};return s[0]!==void 0&&(o.course=s[0]),t=new Xt({props:o}),ee.push(()=>ie(t,"course",l)),{c(){P(t.$$.fragment)},m(i,u){z(t,i,u),e=!0},p(i,u){const r={};u&8&&(r.courses=i[3]),!n&&u&1&&(n=!0,r.course=i[0],oe(()=>n=!1)),t.$set(r)},i(i){e||(q(t.$$.fragment,i),e=!0)},o(i){T(t.$$.fragment,i),e=!1},d(i){D(t,i)}}}function nn(s){let t,n;return t=new Re({}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p:C,i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function ln(s){let t,n,e,l,o,i,u,r,c,f,a,b,j,_,p,N;const w=[xt,Zt,Yt],y=[];function h($,E){return $[1]==="login"?0:$[1]==="edit"?1:2}return b=h(s),j=y[b]=w[b](s),{c(){t=g("div"),n=g("div"),e=S(),l=g("nav"),o=g("a"),o.textContent="Home",i=S(),u=g("a"),r=I(s[2]),c=S(),f=g("div"),a=g("div"),j.c(),d(n,"class","sticky-alerts"),d(o,"class","text-light pointer font-weight-bold"),d(u,"class","text-light pointer font-weight-bold ml-auto"),d(l,"class","navbar bg-accent-dark shadow-lg px-20"),d(a,"class","container-md px-20"),d(f,"class","content-wrapper"),d(t,"class","page-wrapper with-navbar")},m($,E){k($,t,E),m(t,n),m(t,e),m(t,l),m(l,o),m(l,i),m(l,u),m(u,r),m(t,c),m(t,f),m(f,a),y[b].m(a,null),_=!0,p||(N=[H(o,"click",s[9]),H(u,"click",s[5])],p=!0)},p($,[E]){(!_||E&4)&&R(r,$[2]);let U=b;b=h($),b===U?y[b].p($,E):(le(),T(y[U],1,1,()=>{y[U]=null}),se(),j=y[b],j?j.p($,E):(j=y[b]=w[b]($),j.c()),q(j,1),j.m(a,null))},i($){_||(q(j),_=!0)},o($){T(j),_=!1},d($){$&&v(t),y[b].d(),p=!1,x(N)}}}async function Ge(){return(await fetch("/api/query/courses")).json()}function sn(s,t,n){let e,l,o=Ge(),i=null,u=null;const r=G("loginHash");A(s,r,w=>n(8,l=w));let c="Login";function f(w){w&&n(1,u=null)}function a(){l==null&&n(1,u="login")}const b=G("edit");A(s,b,w=>n(7,e=w));function j(w){w?n(1,u="edit"):(n(3,o=Ge()),n(1,u=null)),n(1,u=w?"edit":null)}const _=()=>{u?n(1,u=null):n(0,i=null)};function p(w){c=w,n(2,c)}function N(w){i=w,n(0,i)}return s.$$.update=()=>{s.$$.dirty&256&&f(l),s.$$.dirty&128&&j(e)},[i,u,c,o,r,a,b,e,l,_,p,N]}class on extends F{constructor(t){super(),K(this,t,sn,ln,B,{})}}function rn(s){let t,n;return t=new on({}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}function un(s){let t,n;return t=new it({props:{$$slots:{default:[rn]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},m(e,l){z(t,e,l),n=!0},p(e,[l]){const o={};l&1&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){D(t,e)}}}class cn extends F{constructor(t){super(),K(this,t,null,un,B,{})}}new cn({target:document.body});
//# sourceMappingURL=index.ff1b62cb.js.map
