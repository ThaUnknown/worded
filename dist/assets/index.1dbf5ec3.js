import{S as x,i as ee,s as K,h as se,e as h,t as T,a as S,b as d,c as w,d as f,l as z,f as F,u as re,g as H,j,k as y,m as E,n as v,o as Ae,p as R,q as M,r as V,v as D,w as G,x as J,y as te,z as le,A as ae,B as Oe,C as $,D as ce,E as ke}from"./vendor.c114cad8.js";const qe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=l(t);fetch(t.href,r)}};qe();function ve(o,e,l){const n=o.slice();return n[11]=e[l],n}function ze(o){return{c:v,m:v,p:v,i:v,o:v,d:v}}function Pe(o){let e,l,n;function t(i){o[7](i)}let r={showIndicators:!0,autoplay:!1,$$slots:{default:[Ee]},$$scope:{ctx:o}};return o[1]!==void 0&&(r.active_item=o[1]),e=new Ae({props:r}),E.push(()=>R(e,"active_item",t)),o[8](e),{c(){M(e.$$.fragment)},m(i,c){V(e,i,c),n=!0},p(i,c){const s={};c&16384&&(s.$$scope={dirty:c,ctx:i}),!l&&c&2&&(l=!0,s.active_item=i[1],D(()=>l=!1)),e.$set(s)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){j(e.$$.fragment,i),n=!1},d(i){o[8](null),G(e,i)}}}function Be(o){let e,l=o[11].src+"",n,t,r,i,c=o[11].trans+"",s,u;return{c(){e=h("h4"),n=T(l),t=S(),r=h("h5"),r.textContent="means",i=S(),s=T(c),u=S()},m(_,p){w(_,e,p),f(e,n),w(_,t,p),w(_,r,p),w(_,i,p),w(_,s,p),w(_,u,p)},p:v,d(_){_&&y(e),_&&y(t),_&&y(r),_&&y(i),_&&y(s),_&&y(u)}}}function we(o){let e,l;return e=new Oe({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){M(e.$$.fragment)},m(n,t){V(e,n,t),l=!0},p(n,t){const r={};t&16384&&(r.$$scope={dirty:t,ctx:n}),e.$set(r)},i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function Ee(o){let e,l,n=o[4],t=[];for(let i=0;i<n.length;i+=1)t[i]=we(ve(o,n,i));const r=i=>j(t[i],1,1,()=>{t[i]=null});return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=J()},m(i,c){for(let s=0;s<t.length;s+=1)t[s].m(i,c);w(i,e,c),l=!0},p(i,c){if(c&16){n=i[4];let s;for(s=0;s<n.length;s+=1){const u=ve(i,n,s);t[s]?(t[s].p(u,c),H(t[s],1)):(t[s]=we(u),t[s].c(),H(t[s],1),t[s].m(e.parentNode,e))}for(te(),s=n.length;s<t.length;s+=1)r(s);le()}},i(i){if(!l){for(let c=0;c<n.length;c+=1)H(t[c]);l=!0}},o(i){t=t.filter(Boolean);for(let c=0;c<t.length;c+=1)j(t[c]);l=!1},d(i){ae(t,i),i&&y(e)}}}function Je(o){let e;return{c(){e=T("Pages")},m(l,n){w(l,e,n)},p:v,i:v,o:v,d(l){l&&y(e)}}}function Ue(o){let e,l,n,t=o[0].name+"",r,i,c,s,u,_,p,m,a={ctx:o,current:null,token:null,hasCatch:!1,pending:Je,then:Pe,catch:ze,value:4,blocks:[,,,]};return se(o[4],a),{c(){e=h("div"),l=h("div"),n=h("h1"),r=T(t),i=S(),a.block.c(),c=S(),s=h("div"),u=h("button"),u.textContent="Next",d(n,"class","pt-20 text-accent-medium text-white-dm font-weight-semi-bold"),d(l,"class","w-full"),d(u,"class","btn btn-rounded btn-primary border-0 shadow-lg text-white "),d(u,"type","button"),d(s,"class","mt-auto d-flex w-full justify-content-end"),d(e,"class","d-flex flex-column p-20 m-20")},m(g,k){w(g,e,k),f(e,l),f(l,n),f(n,r),f(e,i),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=c,f(e,c),f(e,s),f(s,u),_=!0,p||(m=z(u,"click",o[9]),p=!0)},p(g,[k]){o=g,(!_||k&1)&&t!==(t=o[0].name+"")&&F(r,t),re(a,o,k)},i(g){_||(H(a.block),_=!0)},o(g){for(let k=0;k<3;k+=1){const N=a.blocks[k];j(N)}_=!1},d(g){g&&y(e),a.block.d(),a.token=null,a=null,p=!1,m()}}}function Re(o,e,l){let{stage:n}=e,{course:t}=e,{id:r}=e,i=0;const c=fetch(`/api/query/courses/${t}/stages/${r}/pages`).then(async g=>{const k=await g.json();return i=k.length,k});let s,u;function _(g){g===i-1?l(5,r=r+1):u.nextItem()}function p(g){s=g,l(1,s)}function m(g){E[g?"unshift":"push"](()=>{u=g,l(2,u)})}const a=()=>_(s);return o.$$set=g=>{"stage"in g&&l(0,n=g.stage),"course"in g&&l(6,t=g.course),"id"in g&&l(5,r=g.id)},[n,s,u,_,c,r,t,p,m,a]}class De extends x{constructor(e){super(),ee(this,e,Re,Ue,K,{stage:0,course:6,id:5})}}function ye(o,e,l){const n=o.slice();return n[0]=e[l],n}function Fe(o){let e,l={ctx:o,current:null,token:null,hasCatch:!1,pending:Ge,then:Ve,catch:Me,value:4};return se(o[4],l),{c(){e=J(),l.block.c()},m(n,t){w(n,e,t),l.block.m(n,l.anchor=t),l.mount=()=>e.parentNode,l.anchor=e},p(n,t){o=n,re(l,o,t)},i:v,o:v,d(n){n&&y(e),l.block.d(n),l.token=null,l=null}}}function Ke(o){let e=o[0],l,n,t=Ce(o);return{c(){t.c(),l=J()},m(r,i){t.m(r,i),w(r,l,i),n=!0},p(r,i){i&1&&K(e,e=r[0])?(te(),j(t,1,1,v),le(),t=Ce(r),t.c(),H(t),t.m(l.parentNode,l)):t.p(r,i)},i(r){n||(H(t),n=!0)},o(r){j(t),n=!1},d(r){r&&y(l),t.d(r)}}}function Me(o){return{c:v,m:v,p:v,d:v}}function Ve(o){let e,l=o[4],n=[];for(let t=0;t<l.length;t+=1)n[t]=Se(ye(o,l,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=J()},m(t,r){for(let i=0;i<n.length;i+=1)n[i].m(t,r);w(t,e,r)},p(t,r){if(r&24){l=t[4];let i;for(i=0;i<l.length;i+=1){const c=ye(t,l,i);n[i]?n[i].p(c,r):(n[i]=Se(c),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(t){ae(n,t),t&&y(e)}}}function Se(o){let e,l,n=o[0].name+"",t,r,i=o[0].description+"",c,s,u,_,p,m,a;function g(){return o[7](o[0])}return{c(){e=h("div"),l=h("div"),t=T(n),r=S(),c=T(i),s=S(),u=h("div"),_=h("button"),_.textContent="Start",p=S(),d(l,"class","font-size-20 text-accent-medium text-white-dm font-weight-semi-bold py-5"),d(_,"class","btn btn-rounded btn-primary border-0 shadow-lg text-white "),d(_,"type","button"),d(u,"class","mt-auto d-flex w-full justify-content-end"),d(e,"class","card shadow-lg")},m(k,N){w(k,e,N),f(e,l),f(l,t),f(e,r),f(e,c),f(e,s),f(e,u),f(u,_),f(e,p),m||(a=z(_,"click",g),m=!0)},p(k,N){o=k},d(k){k&&y(e),m=!1,a()}}}function Ge(o){let e;return{c(){e=T("Browse")},m(l,n){w(l,e,n)},p:v,d(l){l&&y(e)}}}function Ce(o){let e,l,n;function t(i){o[6](i)}let r={stage:o[2],course:o[1]};return o[0]!==void 0&&(r.id=o[0]),e=new De({props:r}),E.push(()=>R(e,"id",t)),{c(){M(e.$$.fragment)},m(i,c){V(e,i,c),n=!0},p(i,c){const s={};c&4&&(s.stage=i[2]),c&2&&(s.course=i[1]),!l&&c&1&&(l=!0,s.id=i[0],D(()=>l=!1)),e.$set(s)},i(i){n||(H(e.$$.fragment,i),n=!0)},o(i){j(e.$$.fragment,i),n=!1},d(i){G(e,i)}}}function Qe(o){let e,l,n,t;const r=[Ke,Fe],i=[];function c(s,u){return s[2]!=null?0:1}return e=c(o),l=i[e]=r[e](o),{c(){l.c(),n=J()},m(s,u){i[e].m(s,u),w(s,n,u),t=!0},p(s,[u]){let _=e;e=c(s),e===_?i[e].p(s,u):(te(),j(i[_],1,1,()=>{i[_]=null}),le(),l=i[e],l?l.p(s,u):(l=i[e]=r[e](s),l.c()),H(l,1),l.m(n.parentNode,n))},i(s){t||(H(l),t=!0)},o(s){j(l),t=!1},d(s){i[e].d(s),s&&y(n)}}}function We(o,e,l){let{course:n}=e,{relations:t}=e,{stage:r}=e,i;function c(a){l(0,r=a.id),l(2,i=a)}function s(a){a&&l(5,t[n]=a.id,t)}const u=fetch(`/api/query/courses/${n}/stages`).then(a=>a.json());async function _(a){if(a){const g=await u;l(2,i=g.find(k=>k.id===a))}}function p(a){r=a,l(0,r)}const m=a=>c(a);return o.$$set=a=>{"course"in a&&l(1,n=a.course),"relations"in a&&l(5,t=a.relations),"stage"in a&&l(0,r=a.stage)},o.$$.update=()=>{o.$$.dirty&4&&s(i),o.$$.dirty&1&&_(r)},[r,n,i,c,u,t,p,m]}class Xe extends x{constructor(e){super(),ee(this,e,We,Qe,K,{course:1,relations:5,stage:0})}}function Ye(o){let e,l,n,t,r,i,c,s,u,_;return{c(){e=h("div"),l=h("h1"),l.textContent="Login",n=S(),t=h("input"),r=S(),i=h("input"),c=S(),s=h("button"),s.textContent="Sign In",d(l,"class","text-center font-weight-bold my-20 w-400 mw-full"),d(t,"type","text"),d(t,"class","form-control form-control-lg w-400 mw-full"),d(t,"placeholder","Username"),d(i,"type","password"),d(i,"class","form-control form-control-lg w-400 mw-full mt-5"),d(i,"placeholder","Password"),d(s,"class","btn btn-primary btn-lg w-400 text-center mw-full mt-10 border-0"),d(s,"type","button"),d(e,"class","d-flex flex-column align-items-center")},m(p,m){w(p,e,m),f(e,l),f(e,n),f(e,t),$(t,o[0]),f(e,r),f(e,i),$(i,o[1]),f(e,c),f(e,s),u||(_=[z(t,"input",o[5]),z(i,"input",o[6]),z(s,"click",o[2])],u=!0)},p(p,[m]){m&1&&t.value!==p[0]&&$(t,p[0]),m&2&&i.value!==p[1]&&$(i,p[1])},i:v,o:v,d(p){p&&y(e),u=!1,ce(_)}}}function Ze(o,e,l){const n=async(a,g)=>{const k=t(`${a}${g}`);return crypto.subtle.digest("SHA-512",k)},t=a=>new TextEncoder().encode(a),r=a=>{a=new Uint8Array(a);const g=[];for(let k=0;k<a.length;++k)g.push(a[k].toString(16).padStart(2,"0"));return g.join("")};let{loginHash:i}=e,{loginText:c}=e,s=null,u=null;async function _(){const a=r(await n(s,u));await(await fetch("/api/mutation",{method:"POST",body:JSON.stringify({auth:a})})).text()==="ok"?(l(3,i=a),l(4,c=s)):halfmoon.initStickyAlert({content:"Invalid username or password.",title:"Error",alertType:"alert-danger",fillType:"filled"})}function p(){s=this.value,l(0,s)}function m(){u=this.value,l(1,u)}return o.$$set=a=>{"loginHash"in a&&l(3,i=a.loginHash),"loginText"in a&&l(4,c=a.loginText)},[s,u,_,i,c,p,m]}class $e extends x{constructor(e){super(),ee(this,e,Ze,Ye,K,{loginHash:3,loginText:4})}}function Te(o,e,l){const n=o.slice();n[5]=e[l];const t=n[0][n[5].id]||0;return n[17]=t,n}function xe(o){let e,l={ctx:o,current:null,token:null,hasCatch:!1,pending:st,then:nt,catch:lt,value:8};return se(o[8],l),{c(){e=J(),l.block.c()},m(n,t){w(n,e,t),l.block.m(n,l.anchor=t),l.mount=()=>e.parentNode,l.anchor=e},p(n,t){o=n,re(l,o,t)},i:v,o:v,d(n){n&&y(e),l.block.d(n),l.token=null,l=null}}}function et(o){let e,l,n,t;function r(s){o[12](s)}function i(s){o[13](s)}let c={};return o[1]!==void 0&&(c.loginHash=o[1]),o[3]!==void 0&&(c.loginText=o[3]),e=new $e({props:c}),E.push(()=>R(e,"loginHash",r)),E.push(()=>R(e,"loginText",i)),{c(){M(e.$$.fragment)},m(s,u){V(e,s,u),t=!0},p(s,u){const _={};!l&&u&2&&(l=!0,_.loginHash=s[1],D(()=>l=!1)),!n&&u&8&&(n=!0,_.loginText=s[3],D(()=>n=!1)),e.$set(_)},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function tt(o){let e,l,n,t;function r(s){o[10](s)}function i(s){o[11](s)}let c={course:o[5]};return o[0]!==void 0&&(c.relations=o[0]),o[2]!==void 0&&(c.stage=o[2]),e=new Xe({props:c}),E.push(()=>R(e,"relations",r)),E.push(()=>R(e,"stage",i)),{c(){M(e.$$.fragment)},m(s,u){V(e,s,u),t=!0},p(s,u){const _={};u&32&&(_.course=s[5]),!l&&u&1&&(l=!0,_.relations=s[0],D(()=>l=!1)),!n&&u&4&&(n=!0,_.stage=s[2],D(()=>n=!1)),e.$set(_)},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function lt(o){return{c:v,m:v,p:v,d:v}}function nt(o){let e,l=o[8],n=[];for(let t=0;t<l.length;t+=1)n[t]=Ne(Te(o,l,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=J()},m(t,r){for(let i=0;i<n.length;i+=1)n[i].m(t,r);w(t,e,r)},p(t,r){if(r&321){l=t[8];let i;for(i=0;i<l.length;i+=1){const c=Te(t,l,i);n[i]?n[i].p(c,r):(n[i]=Ne(c),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(t){ae(n,t),t&&y(e)}}}function ot(o){let e=o[5].stages+"",l,n;return{c(){l=T(e),n=T(" Stages")},m(t,r){w(t,l,r),w(t,n,r)},p:v,d(t){t&&y(l),t&&y(n)}}}function it(o){let e,l=o[17]+"",n;return{c(){e=T("Stage "),n=T(l)},m(t,r){w(t,e,r),w(t,n,r)},p(t,r){r&1&&l!==(l=t[17]+"")&&F(n,l)},d(t){t&&y(e),t&&y(n)}}}function Ne(o){let e,l,n,t,r,i,c=o[5].name+"",s,u,_,p,m,a,g,k,N,O,C,q,b=`${o[17]/o[5].stages*100}%`,I,L,Q=o[17]+"",ne,ue,He=o[5].stages+"",fe,_e,de,W,Ie=o[5].description+"",ge,pe,X,U,Y=o[17]&&o[17]!==o[5].stages?"Continue":"Start",oe,me,ie,he;function je(){return o[14](o[5])}function be(B,P){return B[17]?it:ot}let Z=be(o),A=Z(o);function Le(){return o[15](o[5],o[17])}return{c(){e=h("div"),l=h("div"),n=h("div"),t=h("div"),t.textContent="Course",r=S(),i=h("div"),s=T(c),u=S(),_=h("a"),_.textContent="View all stages >",p=S(),m=h("div"),a=h("div"),g=h("div"),A.c(),k=S(),N=h("div"),O=h("div"),C=h("div"),I=S(),L=h("div"),ne=T(Q),ue=T("/"),fe=T(He),_e=T(" Stages"),de=S(),W=h("div"),ge=T(Ie),pe=S(),X=h("div"),U=h("button"),oe=T(Y),me=S(),d(t,"class","text-light font-size-14 text-muted"),d(i,"class","font-size-20 text-white font-weight-semi-bold py-5"),d(_,"class","text-light mt-auto pointer text-muted"),d(n,"class","col-4 bg-accent-medium p-30 d-flex flex-column"),d(g,"class","text-muted"),d(C,"class","progress-bar bg-accent-medium"),d(C,"role","progressbar"),d(C,"aria-valuenow",q=o[17]/o[5].stages*100),d(C,"aria-valuemin","0"),d(C,"aria-valuemax","100"),ke(C,"width",b,!1),d(O,"class","progress w-150 shadow-sm"),d(L,"class","ml-auto text-muted text-right stages pr-5 svelte-16k87mz"),d(N,"class","ml-auto"),d(a,"class","d-flex"),d(W,"class","font-size-20 text-accent-medium text-white-dm font-weight-semi-bold py-5"),d(U,"class","btn btn-rounded btn-primary border-0 shadow-lg text-white "),d(U,"type","button"),d(X,"class","mt-auto d-flex w-full justify-content-end"),d(m,"class","col-8 p-30 d-flex flex-column"),d(l,"class","row h-full"),d(e,"class","card p-0 overflow-hidden h-200 shadow-lg")},m(B,P){w(B,e,P),f(e,l),f(l,n),f(n,t),f(n,r),f(n,i),f(i,s),f(n,u),f(n,_),f(l,p),f(l,m),f(m,a),f(a,g),A.m(g,null),f(a,k),f(a,N),f(N,O),f(O,C),f(N,I),f(N,L),f(L,ne),f(L,ue),f(L,fe),f(L,_e),f(m,de),f(m,W),f(W,ge),f(m,pe),f(m,X),f(X,U),f(U,oe),f(e,me),ie||(he=[z(_,"click",je),z(U,"click",Le)],ie=!0)},p(B,P){o=B,Z===(Z=be(o))&&A?A.p(o,P):(A.d(1),A=Z(o),A&&(A.c(),A.m(g,null))),P&1&&q!==(q=o[17]/o[5].stages*100)&&d(C,"aria-valuenow",q),P&1&&b!==(b=`${o[17]/o[5].stages*100}%`)&&ke(C,"width",b,!1),P&1&&Q!==(Q=o[17]+"")&&F(ne,Q),P&1&&Y!==(Y=o[17]&&o[17]!==o[5].stages?"Continue":"Start")&&F(oe,Y)},d(B){B&&y(e),A.d(),ie=!1,ce(he)}}}function st(o){let e;return{c(){e=T("Placeholder")},m(l,n){w(l,e,n)},p:v,d(l){l&&y(e)}}}function rt(o){let e,l,n,t,r,i,c,s,u,_,p,m,a,g,k,N;const O=[tt,et,xe],C=[];function q(b,I){return b[5]!=null?0:b[4]==="login"?1:2}return m=q(o),a=C[m]=O[m](o),{c(){e=h("div"),l=h("div"),n=S(),t=h("nav"),r=h("a"),r.textContent="Home",i=S(),c=h("a"),s=T(o[3]),u=S(),_=h("div"),p=h("div"),a.c(),d(l,"class","sticky-alerts"),d(r,"class","text-light pointer text-muted"),d(c,"class","text-light pointer text-muted ml-auto"),d(t,"class","navbar bg-accent-dark px-20"),d(p,"class","container-md px-20"),d(_,"class","content-wrapper"),d(e,"class","page-wrapper with-navbar")},m(b,I){w(b,e,I),f(e,l),f(e,n),f(e,t),f(t,r),f(t,i),f(t,c),f(c,s),f(e,u),f(e,_),f(_,p),C[m].m(p,null),g=!0,k||(N=[z(r,"click",o[9]),z(c,"click",o[7])],k=!0)},p(b,[I]){(!g||I&8)&&F(s,b[3]);let L=m;m=q(b),m===L?C[m].p(b,I):(te(),j(C[L],1,1,()=>{C[L]=null}),le(),a=C[m],a?a.p(b,I):(a=C[m]=O[m](b),a.c()),H(a,1),a.m(p,null))},i(b){g||(H(a),g=!0)},o(b){j(a),g=!1},d(b){b&&y(e),C[m].d(),k=!1,ce(N)}}}function at(o){localStorage.setItem("progress",JSON.stringify(o))}function ct(o,e,l){const n=fetch("/api/query/courses").then(b=>b.json());let t=JSON.parse(localStorage.getItem("progress"))||{},r=null,i=null;function c(b,I){l(5,r=b.id),l(2,i=I||null)}let s="Login",u=null;function _(){l(4,p=null)}let p=null;function m(){u===null&&l(4,p="login")}const a=()=>l(5,r=null);function g(b){t=b,l(0,t)}function k(b){i=b,l(2,i)}function N(b){u=b,l(1,u)}function O(b){s=b,l(3,s)}const C=b=>c(b),q=(b,I)=>c(b,I!==b.stages&&I);return o.$$.update=()=>{o.$$.dirty&1&&at(t),o.$$.dirty&2&&_()},[t,u,i,s,p,r,c,m,n,a,g,k,N,O,C,q]}class ut extends x{constructor(e){super(),ee(this,e,ct,rt,K,{})}}new ut({target:document.body});
//# sourceMappingURL=index.1dbf5ec3.js.map
